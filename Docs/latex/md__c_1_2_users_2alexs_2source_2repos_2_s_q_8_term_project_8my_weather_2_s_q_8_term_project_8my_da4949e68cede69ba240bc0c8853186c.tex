\chapter{@vue/server-\/renderer}
\hypertarget{md__c_1_2_users_2alexs_2source_2repos_2_s_q_8_term_project_8my_weather_2_s_q_8_term_project_8my_da4949e68cede69ba240bc0c8853186c}{}\label{md__c_1_2_users_2alexs_2source_2repos_2_s_q_8_term_project_8my_weather_2_s_q_8_term_project_8my_da4949e68cede69ba240bc0c8853186c}\index{"@vue/server-\/renderer@{"@vue/server-\/renderer}}
\label{md__c_1_2_users_2alexs_2source_2repos_2_s_q_8_term_project_8my_weather_2_s_q_8_term_project_8my_da4949e68cede69ba240bc0c8853186c_autotoc_md1659}%
\Hypertarget{md__c_1_2_users_2alexs_2source_2repos_2_s_q_8_term_project_8my_weather_2_s_q_8_term_project_8my_da4949e68cede69ba240bc0c8853186c_autotoc_md1659}%
 {\bfseries{Note\+: as of 3.\+2.\+13+, this package is included as a dependency of the main {\ttfamily vue} package and can be accessed as {\ttfamily vue/server-\/renderer}. This means you no longer need to explicitly install this package and ensure its version match that of {\ttfamily vue}\textquotesingle{}s. Just use the {\ttfamily vue/server-\/renderer} deep import instead.}}\hypertarget{md__c_1_2_users_2alexs_2source_2repos_2_s_q_8_term_project_8my_weather_2_s_q_8_term_project_8my_da4949e68cede69ba240bc0c8853186c_autotoc_md1660}{}\doxysection{\texorpdfstring{Basic API}{Basic API}}\label{md__c_1_2_users_2alexs_2source_2repos_2_s_q_8_term_project_8my_weather_2_s_q_8_term_project_8my_da4949e68cede69ba240bc0c8853186c_autotoc_md1660}
\hypertarget{md__c_1_2_users_2alexs_2source_2repos_2_s_q_8_term_project_8my_weather_2_s_q_8_term_project_8my_da4949e68cede69ba240bc0c8853186c_autotoc_md1661}{}\doxysubsection{\texorpdfstring{$<$tt$>$render\+To\+String$<$/tt$>$}{<tt>renderToString</tt>}}\label{md__c_1_2_users_2alexs_2source_2repos_2_s_q_8_term_project_8my_weather_2_s_q_8_term_project_8my_da4949e68cede69ba240bc0c8853186c_autotoc_md1661}
{\bfseries{Signature}}


\begin{DoxyCode}{0}
\DoxyCodeLine{function\ renderToString(}
\DoxyCodeLine{\ \ input:\ App\ |\ VNode,}
\DoxyCodeLine{\ \ context?:\ SSRContext}
\DoxyCodeLine{):\ Promise<string>}

\end{DoxyCode}


{\bfseries{Usage}}


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ \{\ createSSRApp\ \}\ =\ require('vue')}
\DoxyCodeLine{const\ \{\ renderToString\ \}\ =\ require('@vue/server-\/renderer')}
\DoxyCodeLine{}
\DoxyCodeLine{const\ app\ =\ createSSRApp(\{}
\DoxyCodeLine{\ \ data:\ ()\ =>\ (\{\ msg:\ 'hello'\ \}),}
\DoxyCodeLine{\ \ template:\ \`{}<div>\{\{\ msg\ \}\}</div>`}
\DoxyCodeLine{\})}
\DoxyCodeLine{}
\DoxyCodeLine{;(async\ ()\ =>\ \{}
\DoxyCodeLine{\ \ const\ html\ =\ await\ renderToString(app)}
\DoxyCodeLine{\ \ console.log(html)}
\DoxyCodeLine{\})()}

\end{DoxyCode}
\hypertarget{md__c_1_2_users_2alexs_2source_2repos_2_s_q_8_term_project_8my_weather_2_s_q_8_term_project_8my_da4949e68cede69ba240bc0c8853186c_autotoc_md1662}{}\doxysubsection{\texorpdfstring{Handling Teleports}{Handling Teleports}}\label{md__c_1_2_users_2alexs_2source_2repos_2_s_q_8_term_project_8my_weather_2_s_q_8_term_project_8my_da4949e68cede69ba240bc0c8853186c_autotoc_md1662}
If the rendered app contains teleports, the teleported content will not be part of the rendered string. Instead, they are exposed under the {\ttfamily teleports} property of the ssr context object\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ ctx\ =\ \{\}}
\DoxyCodeLine{const\ html\ =\ await\ renderToString(app,\ ctx)}
\DoxyCodeLine{}
\DoxyCodeLine{console.log(ctx.teleports)\ //\ \{\ '\#teleported':\ 'teleported\ content'\ \}}

\end{DoxyCode}
\hypertarget{md__c_1_2_users_2alexs_2source_2repos_2_s_q_8_term_project_8my_weather_2_s_q_8_term_project_8my_da4949e68cede69ba240bc0c8853186c_autotoc_md1663}{}\doxysection{\texorpdfstring{Streaming API}{Streaming API}}\label{md__c_1_2_users_2alexs_2source_2repos_2_s_q_8_term_project_8my_weather_2_s_q_8_term_project_8my_da4949e68cede69ba240bc0c8853186c_autotoc_md1663}
\hypertarget{md__c_1_2_users_2alexs_2source_2repos_2_s_q_8_term_project_8my_weather_2_s_q_8_term_project_8my_da4949e68cede69ba240bc0c8853186c_autotoc_md1664}{}\doxysubsection{\texorpdfstring{$<$tt$>$render\+To\+Node\+Stream$<$/tt$>$}{<tt>renderToNodeStream</tt>}}\label{md__c_1_2_users_2alexs_2source_2repos_2_s_q_8_term_project_8my_weather_2_s_q_8_term_project_8my_da4949e68cede69ba240bc0c8853186c_autotoc_md1664}
Renders input as a \href{https://nodejs.org/api/stream.html\#stream_class_stream_readable}{\texttt{ Node.\+js Readable stream}}.

{\bfseries{Signature}}


\begin{DoxyCode}{0}
\DoxyCodeLine{function\ renderToNodeStream(input:\ App\ |\ VNode,\ context?:\ SSRContext):\ Readable}

\end{DoxyCode}


{\bfseries{Usage}}


\begin{DoxyCode}{0}
\DoxyCodeLine{//\ inside\ a\ Node.js\ http\ handler}
\DoxyCodeLine{renderToNodeStream(app).pipe(res)}

\end{DoxyCode}


{\bfseries{Note\+:}} This method is not supported in the ESM build of {\ttfamily @vue/server-\/renderer}, which is decoupled from Node.\+js environments. Use {\ttfamily pipe\+To\+Node\+Writable} instead.\hypertarget{md__c_1_2_users_2alexs_2source_2repos_2_s_q_8_term_project_8my_weather_2_s_q_8_term_project_8my_da4949e68cede69ba240bc0c8853186c_autotoc_md1665}{}\doxysubsection{\texorpdfstring{$<$tt$>$pipe\+To\+Node\+Writable$<$/tt$>$}{<tt>pipeToNodeWritable</tt>}}\label{md__c_1_2_users_2alexs_2source_2repos_2_s_q_8_term_project_8my_weather_2_s_q_8_term_project_8my_da4949e68cede69ba240bc0c8853186c_autotoc_md1665}
Render and pipe to an existing \href{https://nodejs.org/api/stream.html\#stream_writable_streams}{\texttt{ Node.\+js Writable stream}} instance.

{\bfseries{Signature}}


\begin{DoxyCode}{0}
\DoxyCodeLine{function\ pipeToNodeWritable(}
\DoxyCodeLine{\ \ input:\ App\ |\ VNode,}
\DoxyCodeLine{\ \ context:\ SSRContext\ =\ \{\},}
\DoxyCodeLine{\ \ writable:\ Writable}
\DoxyCodeLine{):\ void}

\end{DoxyCode}


{\bfseries{Usage}}


\begin{DoxyCode}{0}
\DoxyCodeLine{//\ inside\ a\ Node.js\ http\ handler}
\DoxyCodeLine{pipeToNodeWritable(app,\ \{\},\ res)}

\end{DoxyCode}
\hypertarget{md__c_1_2_users_2alexs_2source_2repos_2_s_q_8_term_project_8my_weather_2_s_q_8_term_project_8my_da4949e68cede69ba240bc0c8853186c_autotoc_md1666}{}\doxysubsection{\texorpdfstring{$<$tt$>$render\+To\+Web\+Stream$<$/tt$>$}{<tt>renderToWebStream</tt>}}\label{md__c_1_2_users_2alexs_2source_2repos_2_s_q_8_term_project_8my_weather_2_s_q_8_term_project_8my_da4949e68cede69ba240bc0c8853186c_autotoc_md1666}
Renders input as a \href{https://developer.mozilla.org/en-US/docs/Web/API/Streams_API}{\texttt{ Web Readable\+Stream}}.

{\bfseries{Signature}}


\begin{DoxyCode}{0}
\DoxyCodeLine{function\ renderToWebStream(}
\DoxyCodeLine{\ \ input:\ App\ |\ VNode,}
\DoxyCodeLine{\ \ context?:\ SSRContext}
\DoxyCodeLine{):\ ReadableStream}

\end{DoxyCode}


{\bfseries{Usage}}


\begin{DoxyCode}{0}
\DoxyCodeLine{//\ inside\ an\ environment\ with\ ReadableStream\ support}
\DoxyCodeLine{return\ new\ Response(renderToWebStream(app))}

\end{DoxyCode}


{\bfseries{Note\+:}} in environments that do not expose {\ttfamily Readable\+Stream} constructor in the global scope, {\ttfamily pipe\+To\+Web\+Writable} should be used instead.\hypertarget{md__c_1_2_users_2alexs_2source_2repos_2_s_q_8_term_project_8my_weather_2_s_q_8_term_project_8my_da4949e68cede69ba240bc0c8853186c_autotoc_md1667}{}\doxysubsection{\texorpdfstring{$<$tt$>$pipe\+To\+Web\+Writable$<$/tt$>$}{<tt>pipeToWebWritable</tt>}}\label{md__c_1_2_users_2alexs_2source_2repos_2_s_q_8_term_project_8my_weather_2_s_q_8_term_project_8my_da4949e68cede69ba240bc0c8853186c_autotoc_md1667}
Render and pipe to an existing \href{https://developer.mozilla.org/en-US/docs/Web/API/WritableStream}{\texttt{ Web Writable\+Stream}} instance.

{\bfseries{Signature}}


\begin{DoxyCode}{0}
\DoxyCodeLine{function\ pipeToWebWritable(}
\DoxyCodeLine{\ \ input:\ App\ |\ VNode,}
\DoxyCodeLine{\ \ context:\ SSRContext\ =\ \{\},}
\DoxyCodeLine{\ \ writable:\ WritableStream}
\DoxyCodeLine{):\ void}

\end{DoxyCode}


{\bfseries{Usage}}

This is typically used in combination with \href{https://developer.mozilla.org/en-US/docs/Web/API/TransformStream}{\texttt{ {\ttfamily Transform\+Stream}}}\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{//\ TransformStream\ is\ available\ in\ environments\ such\ as\ CloudFlare\ workers.}
\DoxyCodeLine{//\ in\ Node.js,\ TransformStream\ needs\ to\ be\ explicitly\ imported\ from\ 'stream/web'}
\DoxyCodeLine{const\ \{\ readable,\ writable\ \}\ =\ new\ TransformStream()}
\DoxyCodeLine{pipeToWebWritable(app,\ \{\},\ writable)}
\DoxyCodeLine{}
\DoxyCodeLine{return\ new\ Response(readable)}

\end{DoxyCode}
\hypertarget{md__c_1_2_users_2alexs_2source_2repos_2_s_q_8_term_project_8my_weather_2_s_q_8_term_project_8my_da4949e68cede69ba240bc0c8853186c_autotoc_md1668}{}\doxysubsection{\texorpdfstring{$<$tt$>$render\+To\+Simple\+Stream$<$/tt$>$}{<tt>renderToSimpleStream</tt>}}\label{md__c_1_2_users_2alexs_2source_2repos_2_s_q_8_term_project_8my_weather_2_s_q_8_term_project_8my_da4949e68cede69ba240bc0c8853186c_autotoc_md1668}
Renders input in streaming mode using a simple readable interface.

{\bfseries{Signature}}


\begin{DoxyCode}{0}
\DoxyCodeLine{function\ renderToSimpleStream(}
\DoxyCodeLine{\ \ input:\ App\ |\ VNode,}
\DoxyCodeLine{\ \ context:\ SSRContext,}
\DoxyCodeLine{\ \ options:\ SimpleReadable}
\DoxyCodeLine{):\ SimpleReadable}
\DoxyCodeLine{}
\DoxyCodeLine{interface\ SimpleReadable\ \{}
\DoxyCodeLine{\ \ push(content:\ string\ |\ null):\ void}
\DoxyCodeLine{\ \ destroy(err:\ any):\ void}
\DoxyCodeLine{\}}

\end{DoxyCode}


{\bfseries{Usage}}


\begin{DoxyCode}{0}
\DoxyCodeLine{let\ res\ =\ ''}
\DoxyCodeLine{}
\DoxyCodeLine{renderToSimpleStream(}
\DoxyCodeLine{\ \ app,}
\DoxyCodeLine{\ \ \{\},}
\DoxyCodeLine{\ \ \{}
\DoxyCodeLine{\ \ \ \ push(chunk)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ if\ (chunk\ ===\ null)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ //\ done}
\DoxyCodeLine{\ \ \ \ \ \ \ \ console(`render\ complete:\ \$\{res\}`)}
\DoxyCodeLine{\ \ \ \ \ \ \}\ else\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ res\ +=\ chunk}
\DoxyCodeLine{\ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \},}
\DoxyCodeLine{\ \ \ \ destroy(err)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ //\ error\ encountered}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{)}

\end{DoxyCode}
 